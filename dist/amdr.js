/*! AMDR 1.1.6 (sha1: debc7f463caffde0f7eea28f76d83d25924db213) | (c) 2012~2014 Shen Junru. MIT License. | http://github.com/shenjunru/amdr */
(function(e,t,n){"use strict";function I(e){return e instanceof Array}function q(e){return"function"==typeof e}function R(e){return"string"==typeof e}function U(e){return"object"==typeof e}function z(e,t){if(t){var n,r;for(n in t)j.call(t,n)&&(r=t[n],I(r)?r=r.concat():U(r)&&(r=z(z({},e[n]),r)),e[n]=r)}return e}function W(e,t){i&&Function.prototype.call.call(i.error||i.log,i,t||e.stack||e.stacktrace||e)}function X(e,t){var n=new Error(e.message);return!0!==t&&E.debug&&W(n,e),n}function V(){return X({message:"promise fulfilled.",emitter:"deferred"},!0)}function $(e){return r.getElementsByTagName(e)[0]}function J(t,r,i){t.padding=!1;try{e.importScripts(i||at(t.name,t.context.config)),Q(t,n)}catch(s){Q(t,n,X({message:"import failure.",parent:r,source:t.name}))}}function K(e,t,n){if(o)return J(e,t,n);var i=r.createElement("script");e.padding=!1,b[e.name]=i,w++,p&&(y[e.name]=[]),i[f]=h?function(){Q(e,i)}:function(){v[i.readyState]&&Q(e,i)},i[l]=function(){Q(e,i,X({message:"load failure.",parent:t,source:e.name}))},i.charset="utf-8",i.async=i.defer=!0,i.type="text/javascript",i.src=n||at(e.name,e.context.config),u.appendChild(i)}function Q(t,r,i){n!==r&&(r[l]=r[f]="",delete b[t.name],w--);if(i)t.reject(i);else{var s,o=y;p&&(o=o[t.name]);while(o.length)s=o.shift(),s.push(t),mt.apply(e,s);p&&delete o[t.name],t.defined||(t.defined=!0,t.resolve())}}function G(){}function Y(e){var t=this;t.config={},t.urlBase="",t.urlArgs="",t.urlExt=".js",t.pathNow=e||"",t.pathMap={},t.timeout=7,t.debug=!1}function Z(e){var t=this,r=new nt;t.resolve=r.resolve,t.reject=r.reject,t.promise=r.promise,t.config=e,t.rejected=!1,t.requires={},t.exports=n,t.module=n}function et(e,t){var r=this,i=new nt;t=t.clone(),t.pathNow=e.replace(M,"$1"),r.resolve=i.resolve,r.reject=i.reject,r.promise=i.promise,r.context=new Z(t),r.defined=!1,r.padding=!0,r.exports=n,r.name=e}function tt(e){this.then=e}function nt(){var e=this,t=new tt,r=[],i=[],s="pending",o=function(t,n,s){var o=e;if(t||n)o=new nt,r.push(function(e){e.then(t,n).then(o.resolve,o.reject)});return q(s)&&i.push(s),o.promise},u=function(e){var t,i;e=rt(e),o=e.then;for(t=0,i=r.length;t<i;t++)r[t](e);return u=r=n,e};e.promise=t,e.then=t.then=function(e,t,n){return o(e,t,n)},e.resolve=function(e){if(u)return s="resolved",u(e);throw V()},e.reject=function(e){if(u)return s="rejected",u(st(e));throw V()},e.notify=function(e){if(!u)throw V();for(var t=0,n=i.length;t<n;t++)i[t](e)},e.state=function(){return s}}function rt(e){return e instanceof tt?e:it(e)}function it(e){return new tt(function(t){try{return rt(t?t(e):e)}catch(n){return st(n)}})}function st(e){return new tt(function(t,n){try{return n?rt(n(e)):st(e)}catch(r){return st(r)}})}function ot(e,t,n,r){return rt(e).then(t,n,r)}function ut(e,t){var n=e.lastIndexOf("."),r="";return-1!==n&&(r=e.substring(n,e.length),e=e.substring(0,n)),e=lt(e,t),at(e,t,r)}function at(e,t,n){var r=e;return A.test(r)||(r+=n||t.urlExt),t.urlBase&&!k.test(e)&&(r=t.urlBase+r),t.urlArgs&&(r+=(D.test(r)?"&":"?")+t.urlArgs),r}function ft(e){do e=e.replace(O,H);while(e.indexOf("/./")>-1);var t,n=1,r=e.split(H);while(0<(t=F.call(r,"..",n)))P.test(r[t-=1])?n++:r.splice(t,2);return r.join(H)}function lt(e,t){if(!e)return e;if(!k.test(e)){if(!L.test(e)){var n=t.pathMap,r,i,s;if(n){r=e.split(H);for(s=r.length;s>0;s--){i=r.slice(0,s).join(H);if(j.call(n,i)){(i=n[i])?r.splice(0,s,i):r.splice(0,s);break}}e=r.join(H)}}else t.pathNow&&(e=t.pathNow+e);0===e.indexOf("./")&&(e=e.substring(2))}return ft(e)}function ct(e,t){var n=e?e.indexOf("!"):-1,r;return-1!==n&&(r=e.substring(n+1,e.length),e=e.substring(0,n)),{name:lt(e,t),pipe:r}}function ht(e){for(e in b)if(d===v[b[e].readyState])return g[e]}function pt(e,t){function u(e,t,n){return n&&r.push(n),e}var r=[],i=0,s,o;while(-1<(i=F.call(e,"require",i)))n===s&&(s=String(t).replace(N,""),o=s.replace(T,"$1").replace(x,"").split(S)),s.replace(new RegExp(o[i]+C,"g"),u),i++;return r}function dt(e,t,r,i){function h(e){return{index:r,exports:e}}function p(t){if(!e.rejected)throw e.rejected=!0,t}if(t in m)return it(m[t](e)).then(h);var s=isNaN(r)&&r,o=ct(t,e.config),u=o.name,a=o.pipe,f,l,c;return u?(f=e.getModule(!s||a?u:s.name+"!"+u),l=f.promise,n!==a&&(c=new nt,l.then(function(n){n&&n.load?(n.normalize?a=n.normalize(a,function(t){return lt(t,e.config)}):a=lt(a,e.config),dt(e,a,f,i).then(c.resolve,c.reject)):c.reject(X({message:'"load()" undefined.',parent:i,source:t}))},c.reject),l=c.promise),s?(f.padding&&(f.padding=!1,s.exports.load(u,{resolve:f.resolve,reject:f.reject,config:function(){return f.context.config},load:function(e){K(f,i,e)},toUrl:function(e,t){return ut(e,t||this.config())}})),l):(f.padding&&K(f,i),l.then(h,p))):st(X({message:"module name empty.",parent:i,source:t})).then(p)}function vt(e,t,n,r){function h(t){(R(t.index)?e.requires:i)[t.index]=t.exports,0===--l&&!u&&(u=!0,e.resolve(i))}function p(t){s=!1,u||(u=!0,e.reject(t))}function d(){u||(u=!0,e.reject(X({message:"execute timeout.",parent:r,source:"context"})))}var i=[],s=!0,o=t.length,u=!1,a,f,l,c;n&&n.length&&(t=t.concat(n));if(l=f=t.length){i.length=o;for(a=0;s&&a<f;a++)(c=t[a])&&dt(e,c,a<o?a:c,r).then(h,p);setTimeout(d,1e3*e.config.timeout)}else e.resolve(i);return e.promise}function mt(t,r,i,s,o){function a(t){var r=u.exports,i=u.module,a;try{a=s.apply(e,t)}catch(f){W(f),o.reject(f)}i=i&&i.exports,n!==i&&r!==i?a=i:n===a&&r&&(a=r),o.resolve(o.exports=a)}function f(e){o.reject(e)}var u=o.context;t=lt(t,u.config),t&&t!==o.name&&(o=u.getModule(t),u=o.context);if(o.defined)return;o.defined=!0,o.padding=!1,vt(u,r,i,o.name).then(a,f)}function gt(e,t,n){var r=arguments.length,i=p&&ht(),s=B,o,u,a;2===r?(R(e)?o=e:s=e,n=t):1===r?n=e:3===r&&(o=e,s=t),q(n)?(B===s&&!n.length&&(s=""),s=s&&String(s).replace(x,""),s=s?s.split(S):[],u=n,u.length&&(a=pt(s,u))):(s=[],u=function(){return n}),i?y[i.name].push([o,s,a,u]):0<w?y.push([o,s,a,u]):mt(o,s,a,u,(new Z(E)).getModule(o))}function yt(t,r,i,s){t=String(t).replace(x,"").split(S),s=new Z(s?s.config:E);var o;return q(r)?o=pt(t,r):r=n,vt(s,t,o,"require").then(function(t){return r&&r.apply(e,t)},function(t){throw q(i)&&i.call(e,t),t})}function bt(e){return function(t,n,r){if(t in e.requires){if(!q(n))return e.requires[t];n(e.requires[t])}else yt(t,n,r,e)}}function wt(e){return e.exports||(e.exports={})}function Et(e){return e.module||(e.module={exports:wt(e),config:function(){return e.config.config},toUrl:function(t,n){return ut(t,n||e.config)}})}var r=e.document,i=e.console,s=n===r||n===r.createElement,o=s&&q(e.importScripts),u=s||$("head")||$("script"),a=s?{}:r.createElement("script"),f="onload",l="onerror",c="readyState",h=f in a||!(c in a),p=!h,d={},v={interactive:d,loaded:1,complete:1},m={},g={},y=p?{}:[],b={},w=0,E=new Y,S=/\s*,\s*/g,x=/^\s+|\s+$/g,T=/^\S+(?:\s*|\s+\S+\s*)\(([^\)]*)\)[\s\S]+$/,N=/\/\*([\s\S]*?)\*\/|\/\/(.*)$/mg,C=/\s*\((['"])([^'"\(]+)\1\)/.source,k=/^\/|^[^:]+:\/\//,L=/^\.?\.\//,A=/\?|\.js$/,O=/\/\.\//g,M=/(\/?)[^\/]*$/,_=/\/$/,D=/\?/,P=/\.\.?/,H="/",B="require,exports,module",j=Object.prototype.hasOwnProperty,F=Array.prototype.indexOf||function(e,t){var n=this.length;t=t?t<0?Math.max(0,n+t):t:0;for(;t<n;t++)if(t in this&&e===this[t])return t;return-1};p&&(f="onreadystatechange"),p=t||p,(G.prototype=Y.prototype).clone=function(){var e=new G;return z(e,this),e},Z.prototype.getModule=function(e){return g[e]||(g[e]=new et(e,this.config))},tt.prototype.always=function(e){return this.then(e,e)},gt.amd={version:"1.1.6",cache:g,jQuery:!0},yt.config=function(e){if(e){var t=e.urlBase,n=e.pathMap,r;t&&!_.test(t)&&(e.urlBase+="/");if(n)for(r in n)n[r]=ft(n[r].replace(_,""));z(E,e)}return E},m.require=bt,m.exports=wt,m.module=Et,m.isIE=function(){return t},m.Promise=function(){return tt},m.Deferred=function(){return nt},tt.resolve=rt,tt.resolved=it,tt.rejected=st,tt.when=ot,e.define=gt,e.require=yt})(this,!1);
